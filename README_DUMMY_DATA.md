# Dummy Data Setup Guide

This guide helps you populate your database with test data so you can see the application in action.

## Quick Start

1. **Run the main migration first** (if you haven't already):
   - Go to Supabase SQL Editor
   - Run `supabase/migrations/001_initial_schema.sql`

2. **Insert dummy data**:
   - Go to Supabase SQL Editor
   - Run `DUMMY_DATA.sql` (or `supabase/migrations/003_insert_dummy_data.sql`)

3. **Verify data**:
   - Check the employees table
   - Check attendance_logs table
   - Daily summaries will be auto-generated by triggers

## What Gets Created

### Employees (5 users)
- **John Doe** (employee) - Full attendance data for 7 days
- **Jane Smith** (employee) - Under hours example
- **Bob Johnson** (employee) - Currently working (hasn't ended work)
- **Alice Williams** (admin) - Admin user
- **Charlie Brown** (employee) - No logs yet

### Sample Scenarios

1. **John Doe** - Perfect attendance:
   - Clock in: 8:00 AM
   - Break: 12:00 PM - 12:30 PM
   - Clock out: 5:00 PM
   - Status: Green (good)

2. **John Doe (Yesterday)** - Late arrival:
   - Clock in: 9:15 AM (late!)
   - Status: Yellow (late)

3. **Jane Smith** - Under hours:
   - Clock in: 8:30 AM
   - Clock out: 4:45 PM
   - Status: Red (under 8 hours)

4. **Bob Johnson** - Currently working:
   - Clock in: 8:00 AM
   - Break: 12:00 PM - 12:30 PM
   - Still working (hasn't clocked out)

## Using the Data

### For Testing Dashboard
- Use employee ID: `11111111-1111-1111-1111-111111111111` (John Doe)
- You'll see today's logs and status

### For Testing Reports
- Use employee ID: `11111111-1111-1111-1111-111111111111` (John Doe)
- You'll see 7 days of data with charts

### For Testing Admin
- Use admin ID: `44444444-4444-4444-4444-444444444444` (Alice Williams)
- You'll see all employees and their data

## Updating Demo Mode

If you want to use these dummy users in demo mode, update `lib/demo.ts`:

```typescript
export const DEMO_USER_ID = '11111111-1111-1111-1111-111111111111' // John Doe
```

## Troubleshooting

### RLS Blocking Inserts
If you get RLS errors when running the script:
1. Temporarily disable RLS:
   ```sql
   ALTER TABLE employees DISABLE ROW LEVEL SECURITY;
   ALTER TABLE attendance_logs DISABLE ROW LEVEL SECURITY;
   ```
2. Run the dummy data script
3. Re-enable RLS:
   ```sql
   ALTER TABLE employees ENABLE ROW LEVEL SECURITY;
   ALTER TABLE attendance_logs ENABLE ROW LEVEL SECURITY;
   ```

### Daily Summaries Not Showing
- Daily summaries are auto-generated by database triggers
- They're created when attendance logs are inserted
- If they don't appear, check the trigger is working:
  ```sql
  SELECT * FROM daily_summary WHERE employee_id = '11111111-1111-1111-1111-111111111111';
  ```

## Clean Up

To remove all dummy data:
```sql
DELETE FROM attendance_logs WHERE employee_id IN (
  '11111111-1111-1111-1111-111111111111',
  '22222222-2222-2222-2222-222222222222',
  '33333333-3333-3333-3333-333333333333',
  '55555555-5555-5555-5555-555555555555'
);

DELETE FROM employees WHERE id IN (
  '11111111-1111-1111-1111-111111111111',
  '22222222-2222-2222-2222-222222222222',
  '33333333-3333-3333-3333-333333333333',
  '44444444-4444-4444-4444-444444444444',
  '55555555-5555-5555-5555-555555555555'
);
```

